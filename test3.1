#include <iostream>
#include<algorithm>
#include<stdio.h>
#include<string.h>
#include<vector>
#include<stack>
using namespace std;

stack<int> s;

int main()
{
    char a1[100];
    char a2[100];
    int j;
            int t;
    scanf("%s",a1);
    for(int i=0;a1[i]!=0;i++)
    {
        j=i;
        if(a1[i]=='(')
        {
            s.push(i);
            a2[i]=' ';
        }
        if(a1[i]==')')
        {
            if(s.empty())
            a2[i]='?';
            else
            {
                s.pop();
                a2[i]=' ';
            }
        }
       else
            a2[i]=' ';
    }
    while(s.empty()!=1)
    {
        t=s.top();
        s.pop();
        a2[t]='$';
    }
    a2[j+10]=0;
printf("%s\n",a2);
    return 0;
}
